def FCM_CORE_VERSION = System.getenv("FCM_CORE_VERSION") ?: rootProject.ext.FCM_CORE_VERSION
def FCM_VERSION = System.getenv("FCM_VERSION") ?: rootProject.ext.FCM_VERSION

buildscript {
    repositories {
        mavenCentral()
        jcenter()
        mavenLocal()
        google()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:3.4.1'
        /**
         * Reference: https://github.com/google/play-services-plugins/issues/22
         *
         * PS: 4.2.0 throws a NullPointerException when use gradle plugin
         *     com.google.gms.googleservices.GoogleServicesPlugin class reference
         *     instead of id(string)
         */

        classpath 'com.google.gms:google-services:4.1.0'
    }
}
repositories {
    mavenCentral()
    jcenter()
    google()
}
dependencies {
    implementation "com.google.firebase:firebase-core:${FCM_CORE_VERSION}"
    implementation "com.google.firebase:firebase-messaging:${FCM_VERSION}"
}
// apply plugin: 'com.google.gms.google-services'
// class must be used instead of id(string) to be able to apply plugin from non-root gradle file
apply plugin: com.google.gms.googleservices.GoogleServicesPlugin